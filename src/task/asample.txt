Traces:
  [616784] PoolManagerTest::test_collectProtocolFees_ERC20_accumulateFees_exactOutput()
    ├─ [2375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::prank(ProtocolFeeControllerTest: [0x03A6a84cD762D9707A21605b548aaaB891562aAb])
    │   └─ ← [Return] 
    ├─ [7881] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::setProtocolFee(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 4097000 [4.097e6])
    │   ├─ emit ProtocolFeeUpdated(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, protocolFee: 4097000 [4.097e6])
    │   └─ ← [Stop] 
    ├─ [375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000003e83e80000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(4097000 [4.097e6], 4097000 [4.097e6]) [staticcall]
    │   └─ ← [Return] 
    ├─ [577456] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: false, settleUsingBurn: false }), 0x)
    │   ├─ [574900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f00000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [573669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f00000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [551130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\ "before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
