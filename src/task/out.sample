Compiling 1 files with Solc 0.8.26
Solc 0.8.26 finished in 16.42s
Compiler run successful!

Ran 18 tests for test/inputPoolkey/_MinimumTest.t.sol:PoolManagerTest
[PASS] test_addLiquidity_6909() (gas: 760048)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

[PASS] test_addLiquidity_gas() (gas: 640644)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

[PASS] test_addLiquidity_secondAdditionSameRange_gas() (gas: 739949)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_collectProtocolFees_ERC20_accumulateFees_exactOutput() (gas: 616784)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [616784] PoolManagerTest::test_collectProtocolFees_ERC20_accumulateFees_exactOutput()
    ├─ [2375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::prank(ProtocolFeeControllerTest: [0x03A6a84cD762D9707A21605b548aaaB891562aAb])
    │   └─ ← [Return] 
    ├─ [7881] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::setProtocolFee(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 4097000 [4.097e6])
    │   ├─ emit ProtocolFeeUpdated(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, protocolFee: 4097000 [4.097e6])
    │   └─ ← [Stop] 
    ├─ [375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000003e83e80000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(4097000 [4.097e6], 4097000 [4.097e6]) [staticcall]
    │   └─ ← [Return] 
    ├─ [577456] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: false, settleUsingBurn: false }), 0x)
    │   ├─ [574900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f00000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [573669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f00000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [551130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\ "before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_collectProtocolFees_ERC20_accumulateFees_gas() (gas: 617026)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [617026] PoolManagerTest::test_collectProtocolFees_ERC20_accumulateFees_gas()
    ├─ [2375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::prank(ProtocolFeeControllerTest: [0x03A6a84cD762D9707A21605b548aaaB891562aAb])
    │   └─ ← [Return] 
    ├─ [7881] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::setProtocolFee(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 4097000 [4.097e6])
    │   ├─ emit ProtocolFeeUpdated(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, protocolFee: 4097000 [4.097e6])
    │   └─ ← [Stop] 
    ├─ [375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000003e83e80000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(4097000 [4.097e6], 4097000 [4.097e6]) [staticcall]
    │   └─ ← [Return] 
    ├─ [577456] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: false, settleUsingBurn: false }), 0x)
    │   ├─ [574900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f00000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [573669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f00000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [551130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_collectProtocolFees_ERC20_returnsAllFeesIf0IsProvidedAsParameter() (gas: 617453)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [617453] PoolManagerTest::test_collectProtocolFees_ERC20_returnsAllFeesIf0IsProvidedAsParameter()
    ├─ [2375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::prank(ProtocolFeeControllerTest: [0x03A6a84cD762D9707A21605b548aaaB891562aAb])
    │   └─ ← [Return] 
    ├─ [7881] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::setProtocolFee(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 4097000 [4.097e6])
    │   ├─ emit ProtocolFeeUpdated(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, protocolFee: 4097000 [4.097e6])
    │   └─ ← [Stop] 
    ├─ [375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000003e83e80000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(4097000 [4.097e6], 4097000 [4.097e6]) [staticcall]
    │   └─ ← [Return] 
    ├─ [577456] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: false, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 1461446703485210103287273052203988822378723970341 [1.461e48] }), TestSettings({ takeClaims: false, settleUsingBurn: false }), 0x)
    │   ├─ [574900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f0000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d2500000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [573669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffd8f0000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d2500000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [551130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: false, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 1461446703485210103287273052203988822378723970341 [1.461e48] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: false, amountSpecified: -10000 [-1e4], sqrtPriceLimitX96: 1461446703485210103287273052203988822378723970341 [1.461e48] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_donate_OneToken_gas() (gas: 565547)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

Traces:
  [565547] PoolManagerTest::test_donate_OneToken_gas()
    ├─ [553744] PoolDonateTest::donate(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 0, 100, 0x)
    │   ├─ [549257] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [548045] PoolDonateTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x06ec4b77d8909272bf917cf1d44cfb396293642e96349ef855490d7c302fe54a) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x90f87637cabd7e2e189a946932317d978e9cb31d58a367a8cb4222539d8f3d5e) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [526105] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::donate(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 0, 100, 0x)
    │   │   │   │   ├─ [519339] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeDonate(PoolDonateTest: [0xc7183455a4C133Ae270771860664b6B7ec320bB1], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 0, 100, 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_donate_succeedsWhenPoolHasLiquidity() (gas: 579957)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

Traces:
  [579957] PoolManagerTest::test_donate_succeedsWhenPoolHasLiquidity()
    ├─ [4777] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727e, 2) [staticcall]
    │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [551244] PoolDonateTest::donate(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 100, 200, 0x)
    │   ├─ [549257] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0000000000000000000000000000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000000000000000c800000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [548045] PoolDonateTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0000000000000000000000000000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000000000000000c800000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x06ec4b77d8909272bf917cf1d44cfb396293642e96349ef855490d7c302fe54a) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x90f87637cabd7e2e189a946932317d978e9cb31d58a367a8cb4222539d8f3d5e) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [526105] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::donate(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 100, 200, 0x)
    │   │   │   │   ├─ [519339] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeDonate(PoolDonateTest: [0xc7183455a4C133Ae270771860664b6B7ec320bB1], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 100, 200, 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: log != expected log; counterexample: calldata=0xd24a912700000000000000000000000000000000000000000000000000000001576f636300000000000000000000000000000039267fb5accfb344bbd261bf640ebde514 args=[5761885027 [5.761e9], 19447268684842015476437684498502327854356 [1.944e40]]] test_fuzz_donate_emits_event(uint256,uint256) (runs: 0, μ: 0, ~: 0)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  Bound result 5761885027
  Bound result 51173770348523059025331874891539801364

Traces:
  [580581] PoolManagerTest::test_fuzz_donate_emits_event(5761885027 [5.761e9], 19447268684842015476437684498502327854356 [1.944e40])
    ├─ [0] console::log(\"Bound result\", 5761885027 [5.761e9]) [staticcall]
    │   └─ ← [Stop] 
    ├─ [0] console::log(\"Bound result\", 51173770348523059025331874891539801364 [5.117e37]) [staticcall]
    │   └─ ← [Stop] 
    ├─ [0] VM::expectEmit(true, true, false, true, 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967)
    │   └─ ← [Return] 
    ├─ emit Donate(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, sender: PoolDonateTest: [0xc7183455a4C133Ae270771860664b6B7ec320bB1], amount0: 5761885027 [5.761e9], amount1: 51173770348523059025331874891539801364 [5.117e37])
    ├─ [553744] PoolDonateTest::donate(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 5761885027 [5.761e9], 51173770348523059025331874891539801364 [5.117e37], 0x)
    │   ├─ [549257] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff000000000000000000000000000000000000000000000000000000001576f636300000000000000000000000000000000267fb5accfb344bbd261bf640ebde51400000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [548045] PoolDonateTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff000000000000000000000000000000000000000000000000000000001576f636300000000000000000000000000000000267fb5accfb344bbd261bf640ebde51400000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x06ec4b77d8909272bf917cf1d44cfb396293642e96349ef855490d7c302fe54a) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x90f87637cabd7e2e189a946932317d978e9cb31d58a367a8cb4222539d8f3d5e) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [526105] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::donate(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 5761885027 [5.761e9], 51173770348523059025331874891539801364 [5.117e37], 0x)
    │   │   │   │   ├─ [519339] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeDonate(PoolDonateTest: [0xc7183455a4C133Ae270771860664b6B7ec320bB1], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 5761885027 [5.761e9], 51173770348523059025331874891539801364 [5.117e37], 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] log != expected log

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_removeLiquidity_6909() (gas: 1013119)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

Traces:
  [1013119] PoolManagerTest::test_removeLiquidity_6909()
    ├─ [612367] PoolModifyLiquidityTest::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   ├─ [606734] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8800000000000000000000000000000000000000000000000000000000000000780000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [604690] PoolModifyLiquidityTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8800000000000000000000000000000000000000000000000000000000000000780000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [6952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000000de0b6b3a7640000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [534986] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [12780] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeAddLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before addliquididty\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.beforeAddLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x259982e5) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.afterAddLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x9f063efc) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.afterRemoveLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x6c2bbe7e) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Return] 0x259982e5
    │   │   │   │   ├─ emit ModifyLiquidity(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, sender: PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   │   ├─ [471668] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::afterAddLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), -2035479883446581533224907605465454963212891366507597535 [-2.035e54], 0, 0x)
    │   │   │   │   │   ├─ [0] console::log(\"afterAddLiquidity\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Return] 0x9f063efc, 0
    │   │   │   │   └─ ← [Return] -2035479883446581533224907605465454963212891366507597535 [-2.035e54], 0
    │   │   │   ├─ [952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000001bc16d674ec80000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xe1042815eed6bb43936794182d9350fec8baf0dcfad0bceecbd4ac3565dc92bc) [staticcall]
    │   │   │   │   └─ ← [Return] 0xffffffffffffffffffffffffffffffffffffffffffffffffffeabfa425a53121
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x352b4e7ea49e7f277566891c9614c48d55c362b0becf87f7992d5c2838910495) [staticcall]
    │   │   │   │   └─ ← [Return] 0xffffffffffffffffffffffffffffffffffffffffffffffffffeabfa425a53121
    │   │   │   ├─ [2077] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::sync(0x6aD83000194DFCf9a0869091B2Ea7D121033163E)
    │   │   │   │   ├─ [582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   │   └─ ← [Stop] 
    │   │   │   ├─ [11296] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::transferFrom(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, 5981737760509663 [5.981e15])
    │   │   │   │   ├─ emit Transfer(from: PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, amount: 5981737760509663 [5.981e15])
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ [2559] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::settle()
    │   │   │   │   ├─ [582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200017945213281528989 [2e20]
    │   │   │   │   └─ ← [Return] 5981737760509663 [5.981e15]
    │   │   │   ├─ [2077] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::sync(0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9)
    │   │   │   │   ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   │   └─ ← [Stop] 
    │   │   │   ├─ [11296] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::transferFrom(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, 5981737760509663 [5.981e15])
    │   │   │   │   ├─ emit Transfer(from: PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, amount: 5981737760509663 [5.981e15])
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ [2559] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::settle()
    │   │   │   │   ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200017945213281528989 [2e20]
    │   │   │   │   └─ ← [Return] 5981737760509663 [5.981e15]
    │   │   │   └─ ← [Return] 0xffffffffffffffffffeabfa425a53121ffffffffffffffffffeabfa425a53121
    │   │   └─ ← [Return] 0xffffffffffffffffffeabfa425a53121ffffffffffffffffffeabfa425a53121
    │   └─ ← [Return] -2035479883446581533224907605465454963212891366507597535 [-2.035e54]
    ├─ [2441] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 609974164093569966356566949303100275325492467262 [6.099e47]) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [2441] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 1313504893015610783357159217093722684439451803369 [1.313e48]) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457572044437608620609 [1.157e77]
    ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457572044437608620609 [1.157e77]
    ├─ [582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   └─ ← [Return] 200017945213281528989 [2e20]
    ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   └─ ← [Return] 200017945213281528989 [2e20]
    ├─ [354613] PoolModifyLiquidityTest::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x, true, true)
    │   ├─ [352024] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff880000000000000000000000000000000000000000000000000000000000000078fffffffffffffffffffffffffffffffffffffffffffffffff21f494c589c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [350787] PoolModifyLiquidityTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff880000000000000000000000000000000000000000000000000000000000000078fffffffffffffffffffffffffffffffffffffffffffffffff21f494c589c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000001bc16d674ec80000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [345351] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [342446] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeRemoveLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_removeLiquidity_gas() (gas: 586027)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

Traces:
  [586027] PoolManagerTest::test_removeLiquidity_gas()
    ├─ [567580] PoolModifyLiquidityTest::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   ├─ [562524] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff880000000000000000000000000000000000000000000000000000000000000078fffffffffffffffffffffffffffffffffffffffffffffffff21f494c589c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [561287] PoolModifyLiquidityTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff880000000000000000000000000000000000000000000000000000000000000078fffffffffffffffffffffffffffffffffffffffffffffffff21f494c589c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [6952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000000de0b6b3a7640000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [549851] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [542446] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeRemoveLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_removeLiquidity_someLiquidityRemains_gas() (gas: 993997)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

Traces:
  [993997] PoolManagerTest::test_removeLiquidity_someLiquidityRemains_gas()
    ├─ [627727] PoolModifyLiquidityTestNoChecks::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   ├─ [622094] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed4ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4c0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [620050] PoolModifyLiquidityTestNoChecks::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed4ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4c0000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [592774] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [12780] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeAddLiquidity(PoolModifyLiquidityTestNoChecks: [0x5991A2dF15A8F6A256D3Ec51E99254Cd3fb576A9], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before addliquididty\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.beforeAddLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x259982e5) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.afterAddLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x9f063efc) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.afterRemoveLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x6c2bbe7e) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Return] 0x259982e5
    │   │   │   │   ├─ emit ModifyLiquidity(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, sender: PoolModifyLiquidityTestNoChecks: [0x5991A2dF15A8F6A256D3Ec51E99254Cd3fb576A9], tickLower: -300, tickUpper: -180, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   │   ├─ [471668] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::afterAddLiquidity(PoolModifyLiquidityTestNoChecks: [0x5991A2dF15A8F6A256D3Ec51E99254Cd3fb576A9], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 340282366920938463463368679285444828484 [3.402e38], 0, 0x)
    │   │   │   │   │   ├─ [0] console::log(\"afterAddLiquidity\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Return] 0x9f063efc, 0
    │   │   │   │   └─ ← [Return] 340282366920938463463368679285444828484 [3.402e38], 0
    │   │   │   ├─ [6577] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::sync(0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9)
    │   │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   │   └─ ← [Stop] 
    │   │   │   ├─ [13296] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::transferFrom(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, 5928146323382972 [5.928e15])
    │   │   │   │   ├─ emit Transfer(from: PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, amount: 5928146323382972 [5.928e15])
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ [2559] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::settle()
    │   │   │   │   ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200017891621844402298 [2e20]
    │   │   │   │   └─ ← [Return] 5928146323382972 [5.928e15]
    │   │   │   └─ ← [Return] 0x00000000000000000000000000000000ffffffffffffffffffeaf061e037dd44
    │   │   └─ ← [Return] 0x00000000000000000000000000000000ffffffffffffffffffeaf061e037dd44
    │   └─ ← [Return] 340282366920938463463368679285444828484 [3.402e38]
    ├─ [351890] PoolModifyLiquidityTestNoChecks::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: -500000000000000000 [-5e17], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   ├─ [349334] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed4ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4cfffffffffffffffffffffffffffffffffffffffffffffffff90fa4a62c4e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [348097] PoolModifyLiquidityTestNoChecks::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed4ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff4cfffffffffffffffffffffffffffffffffffffffffffffffff90fa4a62c4e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [345351] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: -500000000000000000 [-5e17], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [342446] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeRemoveLiquidity(PoolModifyLiquidityTestNoChecks: [0x5991A2dF15A8F6A256D3Ec51E99254Cd3fb576A9], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -300, tickUpper: -180, liquidityDelta: -500000000000000000 [-5e17], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032); counterexample: calldata=0x12a311300000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000011c399242ef915ac48f4a8 args=[3, 11, 21475425356746660122260648 [2.147e25]]] test_swap_accruesProtocolFees(uint16,uint16,int256) (runs: 0, μ: 0, ~: 0)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  Bound result 3
  Bound result 11
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity

Traces:
  [1021132] PoolManagerTest::test_swap_accruesProtocolFees(3, 11, 21475425356746660122260648 [2.147e25])
    ├─ [0] console::log(\"Bound result\", 3) [staticcall]
    │   └─ ← [Stop] 
    ├─ [0] console::log(\"Bound result\", 11) [staticcall]
    │   └─ ← [Stop] 
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [2375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::prank(ProtocolFeeControllerTest: [0x03A6a84cD762D9707A21605b548aaaB891562aAb])
    │   └─ ← [Return] 
    ├─ [7881] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::setProtocolFee(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), 45059 [4.505e4])
    │   ├─ emit ProtocolFeeUpdated(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, protocolFee: 45059 [4.505e4])
    │   └─ ← [Stop] 
    ├─ [375] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0xa80df9173edb1aca0181088140129ca718588c36ab5cc78b629d533c54ba727d) [staticcall]
    │   └─ ← [Return] 0x00000000000000b0030000000000000000000001000000000000000000000000
    ├─ [0] VM::assertEq(45059 [4.505e4], 45059 [4.505e4]) [staticcall]
    │   └─ ← [Return] 
    ├─ [605367] PoolModifyLiquidityTest::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   ├─ [602234] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8800000000000000000000000000000000000000000000000000000000000000780000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [600190] PoolModifyLiquidityTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8800000000000000000000000000000000000000000000000000000000000000780000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [6952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000000de0b6b3a7640000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [530486] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [10280] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeAddLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before addliquididty\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.beforeAddLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x259982e5) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.afterAddLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x9f063efc) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(\"BaseHook.afterRemoveLiquidity.selector\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   ├─ [0] console::log(0x6c2bbe7e) [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Return] 0x259982e5
    │   │   │   │   ├─ emit ModifyLiquidity(id: 0xf4e03e6af3ba392494125b3e0a629046c934e3db4a2ac45d6372cb0bf1754e18, sender: PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   │   ├─ [471668] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::afterAddLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: 1000000000000000000 [1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), -2035479883446581533224907605465454963212891366507597535 [-2.035e54], 0, 0x)
    │   │   │   │   │   ├─ [0] console::log(\"afterAddLiquidity\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Return] 0x9f063efc, 0
    │   │   │   │   └─ ← [Return] -2035479883446581533224907605465454963212891366507597535 [-2.035e54], 0
    │   │   │   ├─ [952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000001bc16d674ec80000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xe1042815eed6bb43936794182d9350fec8baf0dcfad0bceecbd4ac3565dc92bc) [staticcall]
    │   │   │   │   └─ ← [Return] 0xffffffffffffffffffffffffffffffffffffffffffffffffffeabfa425a53121
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x352b4e7ea49e7f277566891c9614c48d55c362b0becf87f7992d5c2838910495) [staticcall]
    │   │   │   │   └─ ← [Return] 0xffffffffffffffffffffffffffffffffffffffffffffffffffeabfa425a53121
    │   │   │   ├─ [2077] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::sync(0x6aD83000194DFCf9a0869091B2Ea7D121033163E)
    │   │   │   │   ├─ [582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   │   └─ ← [Stop] 
    │   │   │   ├─ [11296] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::transferFrom(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, 5981737760509663 [5.981e15])
    │   │   │   │   ├─ emit Transfer(from: PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, amount: 5981737760509663 [5.981e15])
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ [2559] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::settle()
    │   │   │   │   ├─ [582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200017945213281528989 [2e20]
    │   │   │   │   └─ ← [Return] 5981737760509663 [5.981e15]
    │   │   │   ├─ [2077] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::sync(0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9)
    │   │   │   │   ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   │   └─ ← [Stop] 
    │   │   │   ├─ [11296] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::transferFrom(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, 5981737760509663 [5.981e15])
    │   │   │   │   ├─ emit Transfer(from: PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967, amount: 5981737760509663 [5.981e15])
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ [2559] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::settle()
    │   │   │   │   ├─ [582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   │   └─ ← [Return] 200017945213281528989 [2e20]
    │   │   │   │   └─ ← [Return] 5981737760509663 [5.981e15]
    │   │   │   └─ ← [Return] 0xffffffffffffffffffeabfa425a53121ffffffffffffffffffeabfa425a53121
    │   │   └─ ← [Return] 0xffffffffffffffffffeabfa425a53121ffffffffffffffffffeabfa425a53121
    │   └─ ← [Return] -2035479883446581533224907605465454963212891366507597535 [-2.035e54]
    ├─ [2869] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::protocolFeesAccrued(0x6aD83000194DFCf9a0869091B2Ea7D121033163E) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [2869] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::protocolFeesAccrued(0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::assertEq(0, 0) [staticcall]
    │   └─ ← [Return] 
    ├─ [354580] PoolModifyLiquidityTest::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   ├─ [352024] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff880000000000000000000000000000000000000000000000000000000000000078fffffffffffffffffffffffffffffffffffffffffffffffff21f494c589c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [350787] PoolModifyLiquidityTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff880000000000000000000000000000000000000000000000000000000000000078fffffffffffffffffffffffffffffffffffffffffffffffff21f494c589c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [952] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::extsload(0x7b5dad7f385a6503da94473d37715d1747cec6888e52cd6f254f7be270639131, 3) [staticcall]
    │   │   │   │   └─ ← [Return] [0x0000000000000000000000000000000000000000000000001bc16d674ec80000, 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000000000000000000000000000000000000000000000]
    │   │   │   ├─ [345351] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::modifyLiquidity(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   ├─ [342446] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeRemoveLiquidity(PoolModifyLiquidityTest: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), ModifyLiquidityParams({ tickLower: -120, tickUpper: 120, liquidityDelta: -1000000000000000000 [-1e18], salt: 0x0000000000000000000000000000000000000000000000000000000000000000 }), 0x)
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_againstLiquidity_gas() (gas: 603029)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [603029] PoolManagerTest::test_swap_againstLiquidity_gas()
    ├─ [581956] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: false, settleUsingBurn: false }), 0x)
    │   ├─ [576900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [575669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [553130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_burn6909AsInput_gas() (gas: 603102)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [603102] PoolManagerTest::test_swap_burn6909AsInput_gas()
    ├─ [581956] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: true, settleUsingBurn: false }), 0x)
    │   ├─ [576900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [575669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [553130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_gas() (gas: 581152)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [581152] PoolManagerTest::test_swap_gas()
    ├─ [560542] SwapRouterNoChecks::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }))
    │   ├─ [556395] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x0000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b3)
    │   │   ├─ [555195] SwapRouterNoChecks::unlockCallback(0x0000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e14960000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b3)
    │   │   │   ├─ [553130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(SwapRouterNoChecks: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_mint6909IfOutputNotTaken_gas() (gas: 602989)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [602989] PoolManagerTest::test_swap_mint6909IfOutputNotTaken_gas()
    ├─ [581956] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: true, settleUsingBurn: false }), 0x)
    │   ├─ [576900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [575669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [553130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_succeedsIfInitialized() (gas: 602479)
Logs:
  beforeInitialize
  afterInitialize
  before addliquididty
  BaseHook.beforeAddLiquidity.selector
  0x259982e5
  BaseHook.afterAddLiquidity.selector
  0x9f063efc
  BaseHook.afterRemoveLiquidity.selector
  0x6c2bbe7e
  afterAddLiquidity
  before swap

Traces:
  [602479] PoolManagerTest::test_swap_succeedsIfInitialized()
    ├─ [581956] PoolSwapTest::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), TestSettings({ takeClaims: true, settleUsingBurn: false }), 0x)
    │   ├─ [576900] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::unlock(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   ├─ [575669] PoolSwapTest::unlockCallback(0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000006ad83000194dfcf9a0869091b2ea7d121033163e000000000000000000000000e61398b1cb0fbed8268808a983ad71ecfe2e1ee90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000dab6453c40422f80467f5a426656ab3650cc3ff00000000000000000000000000000000000000000000000000000000000000001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9c0000000000000000000000000000000000000000b504f333f9de6484597d89b300000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000)
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0x6aD83000194DFCf9a0869091B2Ea7D121033163E::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0xd23b1dd618601677b02e916cfb55f5a52b25e8ea22985ff15483675cbe0b1fe2) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(PoolManagerTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457578026175369130272 [1.157e77]
    │   │   │   ├─ [2582] 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9::balanceOf(0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967) [staticcall]
    │   │   │   │   └─ ← [Return] 200011963475521019326 [2e20]
    │   │   │   ├─ [859] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::exttload(0x34bf81109ea0e14c838498011e4a271529f615e5bd5129e262a81b047fa5233d) [staticcall]
    │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [553130] 0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967::swap(PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   ├─ [545525] 0xdab6453c40422F80467f5a426656aB3650cc3Ff0::beforeSwap(PoolSwapTest: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], PoolKey({ currency0: 0x6aD83000194DFCf9a0869091B2Ea7D121033163E, currency1: 0xe61398b1Cb0FBED8268808A983Ad71ECFE2e1Ee9, fee: 0, tickSpacing: 60, hooks: 0xdab6453c40422F80467f5a426656aB3650cc3Ff0 }), SwapParams({ zeroForOne: true, amountSpecified: -100, sqrtPriceLimitX96: 56022770974786139918731938227 [5.602e28] }), 0x)
    │   │   │   │   │   ├─ [0] console::log(\"before swap\") [staticcall]
    │   │   │   │   │   │   └─ ← [Stop] 
    │   │   │   │   │   └─ ← [Revert] panic: array out-of-bounds access (0x32)
    │   │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    │   └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)
    └─ ← [Revert] Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)

Suite result: FAILED. 3 passed; 15 failed; 0 skipped; finished in 76.28s (9.44s CPU time)

Ran 1 test suite in 77.61s (76.28s CPU time): 3 tests passed, 15 failed, 0 skipped (18 total tests)

Failing tests:
Encountered 15 failing tests in test/inputPoolkey/_MinimumTest.t.sol:PoolManagerTest
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_collectProtocolFees_ERC20_accumulateFees_exactOutput() (gas: 616784)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_collectProtocolFees_ERC20_accumulateFees_gas() (gas: 617026)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_collectProtocolFees_ERC20_returnsAllFeesIf0IsProvidedAsParameter() (gas: 617453)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_donate_OneToken_gas() (gas: 565547)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_donate_succeedsWhenPoolHasLiquidity() (gas: 579957)
[FAIL: log != expected log; counterexample: calldata=0xd24a912700000000000000000000000000000000000000000000000000000001576f636300000000000000000000000000000039267fb5accfb344bbd261bf640ebde514 args=[5761885027 [5.761e9], 19447268684842015476437684498502327854356 [1.944e40]]] test_fuzz_donate_emits_event(uint256,uint256) (runs: 0, μ: 0, ~: 0)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_removeLiquidity_6909() (gas: 1013119)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_removeLiquidity_gas() (gas: 586027)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_removeLiquidity_someLiquidityRemains_gas() (gas: 993997)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032); counterexample: calldata=0x12a311300000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000011c399242ef915ac48f4a8 args=[3, 11, 21475425356746660122260648 [2.147e25]]] test_swap_accruesProtocolFees(uint16,uint16,int256) (runs: 0, μ: 0, ~: 0)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_againstLiquidity_gas() (gas: 603029)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_burn6909AsInput_gas() (gas: 603102)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_gas() (gas: 581152)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_mint6909IfOutputNotTaken_gas() (gas: 602989)
[FAIL: Wrap__FailedHookCall(0xdab6453c40422F80467f5a426656aB3650cc3Ff0, 0x4e487b710000000000000000000000000000000000000000000000000000000000000032)] test_swap_succeedsIfInitialized() (gas: 602479)

Encountered a total of 15 failing tests, 3 tests succeeded
